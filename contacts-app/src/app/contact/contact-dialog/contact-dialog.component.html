<h1 md-dialog-title>{{ contact._id ? 'Edit Contact' : 'New Contact' }}</h1>

<form flex layout="row" #contactForm="ngForm">
  <table>
    <tr>
       <td>
        <md-input-container>
          <input mdInput required name="firstname" [(ngModel)]="contact.firstname" placeholder="First name">
        </md-input-container>
        <md-input-container>
          <input mdInput required name="lastname" [(ngModel)]="contact.lastname" placeholder="Last name">
        </md-input-container>
     </td>
    </tr>
    <tr>
      <td>
        <md-input-container class="full-width">
          <input mdInput name="age" [(ngModel)]="contact.age" type="number" min="0" max="120" placeholder="Age">
        </md-input-container>
      </td>
    </tr>
    <tr>
      <td>
        <md-input-container class="full-width">
          <input mdInput name="address" [(ngModel)]="contact.address" placeholder="Address">
        </md-input-container>
      </td>
    </tr>
    <tr>
      <td>
          <md-select required class="full-width" [(ngModel)]="contact.cardcolor" name="cardColor" placeholder="color" [style.color]="contact.cardcolor">
            <md-option *ngFor="let opt of colorOptions" [value]="opt.value" [style.background-color]="opt.value">{{ opt.color }}</md-option>
          </md-select>
      </td>
    </tr>
  </table>
</form>

<div class="buttons" *ngIf="!contact._id; else editButtons;">
  <button md-button (click)="handleContactSubmit()" [disabled]="isValid">
    <md-icon class="material-icons">add</md-icon> Add
  </button>

  <button md-button color="warn" md-dialog-close>
    <md-icon class="material-icons">cancel</md-icon> Cancel
  </button>
</div>

<ng-template #editButtons>
  <div class="buttons">
     <button md-button md-dialog-close (click)="handleContactSubmit(contact)">
      <md-icon class="material-icons">add</md-icon> I'm done editing
    </button>
  </div>
</ng-template>
